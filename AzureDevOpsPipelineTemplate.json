{"options":[{"enabled":true,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"Issue","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+refs/heads/master"],"pathFilters":["+/"],"batchChanges":true,"maxConcurrentBuildsPerBranch":1,"triggerType":2}],"variables":{"BuildConfiguration":{"value":"release","allowOverride":true},"BuildPlatform":{"value":"any cpu","allowOverride":true},"system.debug":{"value":"false","allowOverride":true}},"properties":{},"tags":[],"_links":{"self":{"href":"https://dev.azure.com/JakubVisek/c0685760-0379-449c-a555-e16d89bd6fa1/_apis/build/Definitions/1?revision=21"},"web":{"href":"https://dev.azure.com/JakubVisek/c0685760-0379-449c-a555-e16d89bd6fa1/_build/definition?definitionId=1"},"editor":{"href":"https://dev.azure.com/JakubVisek/c0685760-0379-449c-a555-e16d89bd6fa1/_build/designer?id=1&_a=edit-build-definition"},"badge":{"href":"https://dev.azure.com/JakubVisek/c0685760-0379-449c-a555-e16d89bd6fa1/_apis/build/status/1"}},"buildNumberFormat":"$(date:yyyyMMdd)$(rev:.r)","jobAuthorizationScope":1,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Common","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Common/Dockerfile","buildContext":"","tags":"common-latest","arguments":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build services","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"6975e2d1-96d3-4afc-8a41-498b5d34ea19","versionSpec":"0.*","definitionType":"task"},"inputs":{"containerregistrytype":"Azure Container Registry","dockerRegistryEndpoint":"","azureSubscriptionEndpoint":"248319fe-2337-4170-8ea2-803f9df2d18d","azureContainerRegistry":"{\"loginServer\":\"barista.azurecr.io\", \"id\" : \"/subscriptions/ecef1d0a-7b64-423a-8509-24b65062d9f6/resourceGroups/Barista-dev-rg/providers/Microsoft.ContainerRegistry/registries/barista\"}","dockerComposeFile":"docker-compose.yml","additionalDockerComposeFiles":"","dockerComposeFileArgs":"DOCKER_IMAGE=barista.azurecr.io/coffee","projectName":"$(Build.Repository.Name)","qualifyImageNames":"false","action":"Build services","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"false","buildImages":"true","serviceName":"","containerName":"","ports":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","abortOnContainerExit":"true","imageDigestComposeFile":"$(Build.StagingDirectory)/docker-compose.images.yml","removeBuildOptions":"false","baseResolveDirectory":"","outputDockerComposeFile":"$(Build.StagingDirectory)/docker-compose.yml","dockerComposeCommand":"","dockerHostEndpoint":"","nopIfNoDockerComposeFile":"false","requireAdditionalDockerComposeFiles":"false","cwd":"$(System.DefaultWorkingDirectory)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Push services","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"6975e2d1-96d3-4afc-8a41-498b5d34ea19","versionSpec":"0.*","definitionType":"task"},"inputs":{"containerregistrytype":"Azure Container Registry","dockerRegistryEndpoint":"","azureSubscriptionEndpoint":"248319fe-2337-4170-8ea2-803f9df2d18d","azureContainerRegistry":"{\"loginServer\":\"barista.azurecr.io\", \"id\" : \"/subscriptions/ecef1d0a-7b64-423a-8509-24b65062d9f6/resourceGroups/Barista-dev-rg/providers/Microsoft.ContainerRegistry/registries/barista\"}","dockerComposeFile":"docker-compose.yml","additionalDockerComposeFiles":"","dockerComposeFileArgs":"DOCKER_IMAGE=barista.azurecr.io/coffee","projectName":"$(Build.Repository.Name)","qualifyImageNames":"false","action":"Push services","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"false","buildImages":"true","serviceName":"","containerName":"","ports":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","abortOnContainerExit":"true","imageDigestComposeFile":"$(Build.StagingDirectory)/docker-compose.images.yml","removeBuildOptions":"false","baseResolveDirectory":"","outputDockerComposeFile":"$(Build.StagingDirectory)/docker-compose.yml","dockerComposeCommand":"","dockerHostEndpoint":"","nopIfNoDockerComposeFile":"false","requireAdditionalDockerComposeFiles":"false","cwd":"$(System.DefaultWorkingDirectory)"}},{"environment":{"DOCKER_IMAGE":"barista.azurecr.io/coffee"},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"API","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Api/Dockerfile","buildContext":"","tags":"api-latest","arguments":""}},{"environment":{"DOCKER_IMAGE":"barista.azurecr.io/coffee"},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Accounting","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Accounting/Dockerfile","buildContext":"","tags":"accounting-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Accounting Groups","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.AccountingGroups/Dockerfile","buildContext":"","tags":"accountinggroups-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Consistency","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Consistency/Dockerfile","buildContext":"","tags":"consistency-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Identity","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Identity/Dockerfile","buildContext":"","tags":"identity-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"MQTT","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Mqtt/Dockerfile","buildContext":"","tags":"mqtt-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Offers","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Offers/Dockerfile","buildContext":"","tags":"offers-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Operations","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Operations/Dockerfile","buildContext":"","tags":"operations-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Points of Sale","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.PointsOfSale/Dockerfile","buildContext":"","tags":"pointsofsale-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Products","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Products/Dockerfile","buildContext":"","tags":"products-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Sale Strategies","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.SaleStrategies/Dockerfile","buildContext":"","tags":"salestrategies-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Stock Items","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.StockItems/Dockerfile","buildContext":"","tags":"stockitems-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Stock Operations","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.StockOperations/Dockerfile","buildContext":"","tags":"stockoperations-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Users","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"Barista.Users/Dockerfile","buildContext":"","tags":"users-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"SPA","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"baristaspa2/Dockerfile","buildContext":"baristaspa2","tags":"spa-latest","arguments":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"External","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"903ff06e-a588-4d05-80bf-e65833fe4e47","repository":"coffee","command":"buildAndPush","Dockerfile":"ExternalEndpoint/Dockerfile","buildContext":"ExternalEndpoint","tags":"external-latest","arguments":""}}],"name":"Agent job","refName":"Job_1","condition":"succeeded()","target":{"queue":{"_links":{"self":{"href":"https://dev.azure.com/JakubVisek/_apis/build/Queues/8"}},"id":8,"url":"https://dev.azure.com/JakubVisek/_apis/build/Queues/8","pool":null},"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":1}],"type":1},"repository":{"properties":{"fetchDepth":"0","cleanOptions":"0","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"false"},"id":"b1eb3496-4e7d-44e8-bedf-77f607671f82","type":"TfsGit","name":"barista","url":"https://JakubVisek@dev.azure.com/JakubVisek/barista/_git/barista","defaultBranch":"refs/heads/master","clean":"false","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"displayName":"Jakub Visek","url":"https://spsprodweu4.vssps.visualstudio.com/A85dc7ea8-ea80-49af-b528-fa8549a4251c/_apis/Identities/cc00f8ae-438d-671e-ae08-189d4bd32342","_links":{"avatar":{"href":"https://dev.azure.com/JakubVisek/_apis/GraphProfile/MemberAvatars/aad.Y2MwMGY4YWUtNDM4ZC03NzFlLWFlMDgtMTg5ZDRiZDMyMzQy"}},"id":"cc00f8ae-438d-671e-ae08-189d4bd32342","uniqueName":"Jakub.Visek@studentpartner.com","imageUrl":"https://dev.azure.com/JakubVisek/_apis/GraphProfile/MemberAvatars/aad.Y2MwMGY4YWUtNDM4ZC03NzFlLWFlMDgtMTg5ZDRiZDMyMzQy","descriptor":"aad.Y2MwMGY4YWUtNDM4ZC03NzFlLWFlMDgtMTg5ZDRiZDMyMzQy"},"drafts":[],"queue":{"_links":{"self":{"href":"https://dev.azure.com/JakubVisek/_apis/build/Queues/8"}},"id":8,"name":"Hosted Ubuntu 1604","url":"https://dev.azure.com/JakubVisek/_apis/build/Queues/8","pool":{"id":8,"name":"Hosted Ubuntu 1604","isHosted":true}},"id":1,"name":"Barista-dev-as - CI","url":"https://dev.azure.com/JakubVisek/c0685760-0379-449c-a555-e16d89bd6fa1/_apis/build/Definitions/1?revision=21","uri":"vstfs:///Build/Definition/1","path":"\\","type":2,"queueStatus":0,"revision":21,"createdDate":"2019-05-27T09:13:23.820Z","project":{"id":"c0685760-0379-449c-a555-e16d89bd6fa1","name":"barista","url":"https://dev.azure.com/JakubVisek/_apis/projects/c0685760-0379-449c-a555-e16d89bd6fa1","state":1,"revision":12,"visibility":0,"lastUpdateTime":"2019-05-14T13:20:06.380Z"}}